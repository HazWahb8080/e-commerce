{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\jamstack-ecommerce\\\\pages\\\\categories.js\";\nimport Head from 'next/head';\nimport { titleIfy, slugify } from '../utils/helpers';\nimport { DisplayMedium } from '../components';\nimport CartLink from '../components/CartLink';\nimport { fetchInventory } from '../utils/inventoryProvider';\n\nfunction Categories({\n  categories = []\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(CartLink, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Head, {\n        children: [/*#__PURE__*/_jsxDEV(\"title\", {\n          children: \"Jamstack ECommerce - All Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"description\",\n          content: `Jamstack ECommerce - All categories`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          property: \"og:title\",\n          content: \"Jamstack ECommerce - All Categories\"\n        }, \"title\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\\r pt-4 sm:pt-10 pb-8\\r \",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-5xl font-light\",\n          children: \"All categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4\\r lg:grid-cols-3 md:grid-cols-2 grid-cols-1\",\n          children: categories.map((category, index) => /*#__PURE__*/_jsxDEV(DisplayMedium, {\n            imageSrc: category.image,\n            subtitle: `${category.itemCount} items`,\n            title: titleIfy(category.name),\n            link: `/category/${slugify(category.name)}`\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\nexport async function getStaticProps() {\n  const inventory = await fetchInventory();\n  const inventoryCategories = inventory.reduce((acc, next) => {\n    const categories = next.categories;\n    categories.forEach(c => {\n      const index = acc.findIndex(item => item.name === c);\n\n      if (index !== -1) {\n        const item = acc[index];\n        item.itemCount = item.itemCount + 1;\n        acc[index] = item;\n      } else {\n        const item = {\n          name: c,\n          image: next.image,\n          itemCount: 1\n        };\n        acc.push(item);\n      }\n    });\n    return acc;\n  }, []);\n  return {\n    props: {\n      categories: inventoryCategories\n    }\n  };\n}\nexport default Categories;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/jamstack-ecommerce/pages/categories.js"],"names":["Head","titleIfy","slugify","DisplayMedium","CartLink","fetchInventory","Categories","categories","map","category","index","image","itemCount","name","getStaticProps","inventory","inventoryCategories","reduce","acc","next","forEach","c","findIndex","item","push","props"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport { titleIfy , slugify } from '../utils/helpers'\r\nimport { DisplayMedium } from '../components'\r\nimport CartLink from '../components/CartLink'\r\nimport { fetchInventory } from '../utils/inventoryProvider'\r\n\r\nfunction Categories ({ categories = [] }) {\r\n  return (\r\n    <>\r\n      <div className=\"w-full\">\r\n        <CartLink />\r\n        <Head>\r\n          <title>Jamstack ECommerce - All Categories</title>\r\n          <meta name=\"description\" content={`Jamstack ECommerce - All categories`} />\r\n          <meta property=\"og:title\" content=\"Jamstack ECommerce - All Categories\" key=\"title\" />\r\n        </Head>\r\n        <div className=\"\r\n          pt-4 sm:pt-10 pb-8\r\n        \">\r\n          <h1 className=\"text-5xl font-light\">All categories</h1>\r\n        </div>\r\n        <div className=\"flex flex-col items-center\">\r\n          \r\n          {/* <div className=\"my-4 lg:my-8 flex flex-col lg:flex-row justify-between\"> */}\r\n          <div className=\"grid gap-4\r\n          lg:grid-cols-3 md:grid-cols-2 grid-cols-1\">\r\n          {\r\n            categories.map((category, index) => (\r\n              <DisplayMedium\r\n                key={index}\r\n                imageSrc={category.image}\r\n                subtitle={`${category.itemCount} items`}\r\n                title={titleIfy(category.name)}\r\n                link={`/category/${slugify(category.name)}`}\r\n              />\r\n            ))\r\n          }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport async function getStaticProps() {\r\n  const inventory = await fetchInventory()\r\n  const inventoryCategories = inventory.reduce((acc, next) => {\r\n    const categories = next.categories\r\n    categories.forEach(c => {\r\n      const index = acc.findIndex(item => item.name === c)\r\n      if (index !== -1) {\r\n        const item = acc[index]\r\n        item.itemCount = item.itemCount + 1\r\n        acc[index] = item\r\n      } else {\r\n        const item = {\r\n          name: c,\r\n          image: next.image,\r\n          itemCount: 1\r\n        }\r\n        acc.push(item)\r\n      }\r\n    })\r\n    return acc\r\n  }, [])\r\n\r\n  return {\r\n    props: {\r\n      categories: inventoryCategories\r\n    }\r\n  }\r\n}\r\n\r\nexport default Categories"]},"metadata":{},"sourceType":"module"}