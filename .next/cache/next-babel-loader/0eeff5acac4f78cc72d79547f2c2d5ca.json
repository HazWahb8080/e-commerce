{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\jamstack-ecommerce\\\\pages\\\\checkout.js\",\n    _this2 = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState } from 'react';\nimport Head from 'next/head';\nimport { SiteContext, ContextProviderComponent } from \"../context/mainContext\";\nimport DENOMINATION from \"../utils/currencyProvider\";\nimport { FaLongArrowAltLeft } from \"react-icons/fa\";\nimport Link from \"next/link\";\nimport Image from \"../components/Image\";\nimport { v4 as uuid } from \"uuid\";\nimport { CardElement, Elements, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\"; // Make sure to call `loadStripe` outside of a componentâ€™s render to avoid\n// recreating the `Stripe` object on every render.\n\nvar stripePromise = loadStripe(\"xxx-xxx-xxx\");\n\nfunction CheckoutWithContext(props) {\n  var _this = this;\n\n  return /*#__PURE__*/_jsxDEV(ContextProviderComponent, {\n    children: /*#__PURE__*/_jsxDEV(SiteContext.Consumer, {\n      children: function children(context) {\n        return /*#__PURE__*/_jsxDEV(Elements, {\n          stripe: stripePromise,\n          children: /*#__PURE__*/_jsxDEV(Checkout, _objectSpread(_objectSpread({}, props), {}, {\n            context: context\n          }), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, _this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n}\n\n_c = CheckoutWithContext;\n\nvar calculateShipping = function calculateShipping() {\n  return 0;\n};\n\nvar Input = function Input(_ref) {\n  var onChange = _ref.onChange,\n      value = _ref.value,\n      name = _ref.name,\n      placeholder = _ref.placeholder;\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    onChange: onChange,\n    value: value,\n    className: \"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    type: \"text\",\n    placeholder: placeholder,\n    name: name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, _this2);\n};\n\n_c2 = Input;\n\nvar Checkout = function Checkout(_ref2) {\n  _s();\n\n  var _jsxDEV2, _jsxDEV3;\n\n  var context = _ref2.context;\n\n  var _useState = useState(null),\n      errorMessage = _useState[0],\n      setErrorMessage = _useState[1];\n\n  var _useState2 = useState(false),\n      orderCompleted = _useState2[0],\n      setOrderCompleted = _useState2[1];\n\n  var _useState3 = useState({\n    name: \"\",\n    email: \"\",\n    street: \"\",\n    city: \"\",\n    postal_code: \"\",\n    state: \"\"\n  }),\n      input = _useState3[0],\n      setInput = _useState3[1];\n\n  var stripe = useStripe();\n  var elements = useElements();\n\n  var onChange = function onChange(e) {\n    setErrorMessage(null);\n    setInput(_objectSpread(_objectSpread({}, input), {}, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var name, email, street, city, postal_code, state, total, clearCart, cardElement, _yield$stripe$createP, error, paymentMethod, order;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              name = input.name, email = input.email, street = input.street, city = input.city, postal_code = input.postal_code, state = input.state;\n              total = context.total, clearCart = context.clearCart;\n\n              if (!(!stripe || !elements)) {\n                _context.next = 5;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 5:\n              if (!(!street || !city || !postal_code || !state)) {\n                _context.next = 8;\n                break;\n              }\n\n              setErrorMessage(\"Please fill in the form!\");\n              return _context.abrupt(\"return\");\n\n            case 8:\n              // Get a reference to a mounted CardElement. Elements knows how\n              // to find your CardElement because there can only ever be one of\n              // each type of element.\n              cardElement = elements.getElement(CardElement); // Use your card Element with other Stripe.js APIs\n\n              _context.next = 11;\n              return stripe.createPaymentMethod({\n                type: \"card\",\n                card: cardElement,\n                billing_details: {\n                  name: name\n                }\n              });\n\n            case 11:\n              _yield$stripe$createP = _context.sent;\n              error = _yield$stripe$createP.error;\n              paymentMethod = _yield$stripe$createP.paymentMethod;\n\n              if (!error) {\n                _context.next = 17;\n                break;\n              }\n\n              setErrorMessage(error.message);\n              return _context.abrupt(\"return\");\n\n            case 17:\n              order = {\n                email: email,\n                amount: total,\n                address: state,\n                // should this be {street, city, postal_code, state} ?\n                payment_method_id: paymentMethod.id,\n                receipt_email: \"customer@example.com\",\n                id: uuid()\n              }; // TODO call API\n\n              setOrderCompleted(true);\n              clearCart();\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var numberOfItemsInCart = context.numberOfItemsInCart,\n      cart = context.cart,\n      total = context.total;\n  var cartEmpty = numberOfItemsInCart === Number(0);\n\n  if (orderCompleted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Thanks! Your order has been successfully processed.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, _this2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, _this2);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center pb-10\",\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Jamstack ECommerce - Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, _this2), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Check out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, _this2), /*#__PURE__*/_jsxDEV(\"meta\", {\n        property: \"og:title\",\n        content: \"Jamstack ECommerce - Checkpit\"\n      }, \"title\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, _this2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\\r flex flex-col w-full\\r c_large:w-c_large\\r \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-10 pb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-5xl font-light mb-6\",\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, _this2), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/cart\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            \"aria-label\": \"Cart\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cursor-pointer flex  items-center\",\n              children: [/*#__PURE__*/_jsxDEV(FaLongArrowAltLeft, {\n                className: \"mr-2 text-gray-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, _this2), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-sm\",\n                children: \"Edit Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, _this2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, _this2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, _this2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, _this2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, _this2), cartEmpty ? /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"No items in cart.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, _this2) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: cart.map(function (item, index) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b py-10\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Image, {\n                  className: \"w-32 m-0\",\n                  src: item.image,\n                  alt: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, _this2), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"m-0 pl-10 text-gray-600\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-1 justify-end\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"m-0 pl-10 text-gray-900 font-semibold\",\n                    children: DENOMINATION + item.price\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 25\n                  }, _this2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, _this2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, _this2)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 19\n            }, _this2);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-1 flex-col md:flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-1 pt-8 flex-col\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 border-t pt-10\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [errorMessage ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: errorMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 37\n                }, _this2) : \"\", /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: onChange,\n                  value: input.name,\n                  name: \"name\",\n                  placeholder: \"Cardholder name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(CardElement, {\n                  className: \"mt-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: onChange,\n                  value: input.email,\n                  name: \"email\",\n                  placeholder: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: onChange,\n                  value: input.street,\n                  name: \"street\",\n                  placeholder: \"Street\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: onChange,\n                  value: input.city,\n                  name: \"city\",\n                  placeholder: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: onChange,\n                  value: input.state,\n                  name: \"state\",\n                  placeholder: \"State\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(Input, {\n                  onChange: onChange,\n                  value: input.postal_code,\n                  name: \"postal_code\",\n                  placeholder: \"Postal Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, _this2), /*#__PURE__*/_jsxDEV(\"button\", (_jsxDEV2 = {\n                  type: \"submit\",\n                  disabled: !stripe,\n                  onClick: handleSubmit,\n                  className: \"hidden md:block bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline\"\n                }, _defineProperty(_jsxDEV2, \"type\", \"button\"), _defineProperty(_jsxDEV2, \"children\", \"Confirm order\"), _jsxDEV2), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, _this2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, _this2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, _this2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:pt-20\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pl-4 flex flex-1 pt-2 md:pt-8 mt-2 sm:mt-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm pr-10 text-left\",\n                children: \"Subtotal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, _this2), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"w-38 flex text-right justify-end\",\n                children: DENOMINATION + total\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, _this2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pl-4 flex flex-1 my-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm pr-10\",\n                children: \"Shipping\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, _this2), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"w-38 flex justify-end\",\n                children: \"FREE SHIPPING\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, _this2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, _this2), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:ml-4 pl-2 flex flex-1 bg-gray-200 pr-4 pb-1 pt-2 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm pr-10\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, _this2), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold w-38 flex justify-end\",\n                children: DENOMINATION + (total + calculateShipping())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, _this2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, _this2), /*#__PURE__*/_jsxDEV(\"button\", (_jsxDEV3 = {\n              type: \"submit\",\n              disabled: !stripe,\n              onClick: handleSubmit,\n              className: \"md:hidden bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline\"\n            }, _defineProperty(_jsxDEV3, \"type\", \"button\"), _defineProperty(_jsxDEV3, \"children\", \"Confirm order\"), _jsxDEV3), void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, _this2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, _this2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, _this2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, _this2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, _this2)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, _this2);\n};\n\n_s(Checkout, \"RQs0Ub1cjqW1n5ivEbw9IXZeewk=\", false, function () {\n  return [useStripe, useElements];\n});\n\n_c3 = Checkout;\nexport default CheckoutWithContext;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CheckoutWithContext\");\n$RefreshReg$(_c2, \"Input\");\n$RefreshReg$(_c3, \"Checkout\");","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/jamstack-ecommerce/pages/checkout.js"],"names":["useState","Head","SiteContext","ContextProviderComponent","DENOMINATION","FaLongArrowAltLeft","Link","Image","v4","uuid","CardElement","Elements","useStripe","useElements","loadStripe","stripePromise","CheckoutWithContext","props","context","calculateShipping","Input","onChange","value","name","placeholder","Checkout","errorMessage","setErrorMessage","orderCompleted","setOrderCompleted","email","street","city","postal_code","state","input","setInput","stripe","elements","e","target","handleSubmit","event","preventDefault","total","clearCart","cardElement","getElement","createPaymentMethod","type","card","billing_details","error","paymentMethod","message","order","amount","address","payment_method_id","id","receipt_email","numberOfItemsInCart","cart","cartEmpty","Number","map","item","index","image","price"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,WAAT,EAAsBC,wBAAtB,QAAsD,wBAAtD;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAASC,kBAAT,QAAmC,gBAAnC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AAEA,SACEC,WADF,EAEEC,QAFF,EAGEC,SAHF,EAIEC,WAJF,QAKO,yBALP;AAMA,SAASC,UAAT,QAA2B,mBAA3B,C,CAEA;AACA;;AACA,IAAMC,aAAa,GAAGD,UAAU,CAAC,aAAD,CAAhC;;AAEA,SAASE,mBAAT,CAA6BC,KAA7B,EAAoC;AAAA;;AAClC,sBACE,QAAC,wBAAD;AAAA,2BACE,QAAC,WAAD,CAAa,QAAb;AAAA,gBACG,kBAAAC,OAAO;AAAA,4BACN,QAAC,QAAD;AAAU,UAAA,MAAM,EAAEH,aAAlB;AAAA,iCACE,QAAC,QAAD,kCAAcE,KAAd;AAAqB,YAAA,OAAO,EAAEC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBADM;AAAA;AADV;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAWD;;KAZQF,mB;;AAcT,IAAMG,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9B,SAAO,CAAP;AACD,CAFD;;AAIA,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,MAAaC,KAAb,QAAaA,KAAb;AAAA,MAAoBC,IAApB,QAAoBA,IAApB;AAAA,MAA0BC,WAA1B,QAA0BA,WAA1B;AAAA,sBACZ;AACE,IAAA,QAAQ,EAAEH,QADZ;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,SAAS,EAAC,yIAHZ;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,WAAW,EAAEE,WALf;AAME,IAAA,IAAI,EAAED;AANR;AAAA;AAAA;AAAA;AAAA,YADY;AAAA,CAAd;;MAAMH,K;;AAWN,IAAMK,QAAQ,GAAG,SAAXA,QAAW,QAAiB;AAAA;;AAAA;;AAAA,MAAdP,OAAc,SAAdA,OAAc;;AAAA,kBACQlB,QAAQ,CAAC,IAAD,CADhB;AAAA,MACzB0B,YADyB;AAAA,MACXC,eADW;;AAAA,mBAEY3B,QAAQ,CAAC,KAAD,CAFpB;AAAA,MAEzB4B,cAFyB;AAAA,MAETC,iBAFS;;AAAA,mBAGN7B,QAAQ,CAAC;AACjCuB,IAAAA,IAAI,EAAE,EAD2B;AAEjCO,IAAAA,KAAK,EAAE,EAF0B;AAGjCC,IAAAA,MAAM,EAAE,EAHyB;AAIjCC,IAAAA,IAAI,EAAE,EAJ2B;AAKjCC,IAAAA,WAAW,EAAE,EALoB;AAMjCC,IAAAA,KAAK,EAAE;AAN0B,GAAD,CAHF;AAAA,MAGzBC,KAHyB;AAAA,MAGlBC,QAHkB;;AAYhC,MAAMC,MAAM,GAAGzB,SAAS,EAAxB;AACA,MAAM0B,QAAQ,GAAGzB,WAAW,EAA5B;;AAEA,MAAMQ,QAAQ,GAAG,SAAXA,QAAW,CAAAkB,CAAC,EAAI;AACpBZ,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAS,IAAAA,QAAQ,iCAAMD,KAAN,2BAAcI,CAAC,CAACC,MAAF,CAASjB,IAAvB,EAA8BgB,CAAC,CAACC,MAAF,CAASlB,KAAvC,GAAR;AACD,GAHD;;AAKA,MAAMmB,YAAY;AAAA,yEAAG,iBAAMC,KAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AACnBA,cAAAA,KAAK,CAACC,cAAN;AACQpB,cAAAA,IAFW,GAEuCY,KAFvC,CAEXZ,IAFW,EAELO,KAFK,GAEuCK,KAFvC,CAELL,KAFK,EAEEC,MAFF,GAEuCI,KAFvC,CAEEJ,MAFF,EAEUC,IAFV,GAEuCG,KAFvC,CAEUH,IAFV,EAEgBC,WAFhB,GAEuCE,KAFvC,CAEgBF,WAFhB,EAE6BC,KAF7B,GAEuCC,KAFvC,CAE6BD,KAF7B;AAGXU,cAAAA,KAHW,GAGU1B,OAHV,CAGX0B,KAHW,EAGJC,SAHI,GAGU3B,OAHV,CAGJ2B,SAHI;;AAAA,oBAKf,CAACR,MAAD,IAAW,CAACC,QALG;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBAYf,CAACP,MAAD,IAAW,CAACC,IAAZ,IAAoB,CAACC,WAArB,IAAoC,CAACC,KAZtB;AAAA;AAAA;AAAA;;AAajBP,cAAAA,eAAe,CAAC,0BAAD,CAAf;AAbiB;;AAAA;AAiBnB;AACA;AACA;AACMmB,cAAAA,WApBa,GAoBCR,QAAQ,CAACS,UAAT,CAAoBrC,WAApB,CApBD,EAsBnB;;AAtBmB;AAAA,qBAuBoB2B,MAAM,CAACW,mBAAP,CAA2B;AAChEC,gBAAAA,IAAI,EAAE,MAD0D;AAEhEC,gBAAAA,IAAI,EAAEJ,WAF0D;AAGhEK,gBAAAA,eAAe,EAAE;AAAE5B,kBAAAA,IAAI,EAAEA;AAAR;AAH+C,eAA3B,CAvBpB;;AAAA;AAAA;AAuBX6B,cAAAA,KAvBW,yBAuBXA,KAvBW;AAuBJC,cAAAA,aAvBI,yBAuBJA,aAvBI;;AAAA,mBA6BfD,KA7Be;AAAA;AAAA;AAAA;;AA8BjBzB,cAAAA,eAAe,CAACyB,KAAK,CAACE,OAAP,CAAf;AA9BiB;;AAAA;AAkCbC,cAAAA,KAlCa,GAkCL;AACZzB,gBAAAA,KAAK,EAALA,KADY;AAEZ0B,gBAAAA,MAAM,EAAEZ,KAFI;AAGZa,gBAAAA,OAAO,EAAEvB,KAHG;AAGI;AAChBwB,gBAAAA,iBAAiB,EAAEL,aAAa,CAACM,EAJrB;AAKZC,gBAAAA,aAAa,EAAE,sBALH;AAMZD,gBAAAA,EAAE,EAAElD,IAAI;AANI,eAlCK,EA0CnB;;AACAoB,cAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAgB,cAAAA,SAAS;;AA5CU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZJ,YAAY;AAAA;AAAA;AAAA,KAAlB;;AApBgC,MAmExBoB,mBAnEwB,GAmEa3C,OAnEb,CAmExB2C,mBAnEwB;AAAA,MAmEHC,IAnEG,GAmEa5C,OAnEb,CAmEH4C,IAnEG;AAAA,MAmEGlB,KAnEH,GAmEa1B,OAnEb,CAmEG0B,KAnEH;AAoEhC,MAAMmB,SAAS,GAAGF,mBAAmB,KAAKG,MAAM,CAAC,CAAD,CAAhD;;AAEA,MAAIpC,cAAJ,EAAoB;AAClB,wBACE;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF;AAKD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,kCAAf;AAAA,4BACE,QAAC,IAAD;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,QAAA,IAAI,EAAC,aAAX;AAAyB,QAAA,OAAO;AAAhC;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAM,QAAA,QAAQ,EAAC,UAAf;AAA0B,QAAA,OAAO,EAAC;AAAlC,SAAsE,OAAtE;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AACE,MAAA,SAAS,EAAC,gDADZ;AAAA,8BAME;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,0BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD;AAAM,UAAA,IAAI,EAAC,OAAX;AAAA,iCACE;AAAG,0BAAW,MAAd;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,mCAAf;AAAA,sCACE,QAAC,kBAAD;AAAoB,gBAAA,SAAS,EAAC;AAA9B;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAG,gBAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,EAkBGmC,SAAS,gBACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADQ,gBAGR;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,EAAf;AAAA,oBACGD,IAAI,CAACG,GAAL,CAAS,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACzB,gCACE;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,mBAAf;AAAA,wCACE,QAAC,KAAD;AACE,kBAAA,SAAS,EAAC,UADZ;AAEE,kBAAA,GAAG,EAAED,IAAI,CAACE,KAFZ;AAGE,kBAAA,GAAG,EAAEF,IAAI,CAAC3C;AAHZ;AAAA;AAAA;AAAA;AAAA,0BADF,eAME;AAAG,kBAAA,SAAS,EAAC,yBAAb;AAAA,4BACG2C,IAAI,CAAC3C;AADR;AAAA;AAAA;AAAA;AAAA,0BANF,eASE;AAAK,kBAAA,SAAS,EAAC,yBAAf;AAAA,yCACE;AAAG,oBAAA,SAAS,EAAC,uCAAb;AAAA,8BACGnB,YAAY,GAAG8D,IAAI,CAACG;AADvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,eAAqCF,KAArC;AAAA;AAAA;AAAA;AAAA,sBADF;AAmBD,WApBA;AADH;AAAA;AAAA;AAAA;AAAA,kBADF,eAwBE;AAAK,UAAA,SAAS,EAAC,kCAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,2BAAf;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,qBAAf;AAAA,qCACE;AAAM,gBAAA,QAAQ,EAAE1B,YAAhB;AAAA,2BACGf,YAAY,gBAAG;AAAA,4BAAOA;AAAP;AAAA;AAAA;AAAA;AAAA,0BAAH,GAAiC,EADhD,eAEE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAEL,QADZ;AAEE,kBAAA,KAAK,EAAEc,KAAK,CAACZ,IAFf;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,0BAFF,eAQE,QAAC,WAAD;AAAa,kBAAA,SAAS,EAAC;AAAvB;AAAA;AAAA;AAAA;AAAA,0BARF,eASE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAEF,QADZ;AAEE,kBAAA,KAAK,EAAEc,KAAK,CAACL,KAFf;AAGE,kBAAA,IAAI,EAAC,OAHP;AAIE,kBAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,0BATF,eAeE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAET,QADZ;AAEE,kBAAA,KAAK,EAAEc,KAAK,CAACJ,MAFf;AAGE,kBAAA,IAAI,EAAC,QAHP;AAIE,kBAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,0BAfF,eAqBE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAEV,QADZ;AAEE,kBAAA,KAAK,EAAEc,KAAK,CAACH,IAFf;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,0BArBF,eA2BE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAEX,QADZ;AAEE,kBAAA,KAAK,EAAEc,KAAK,CAACD,KAFf;AAGE,kBAAA,IAAI,EAAC,OAHP;AAIE,kBAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,0BA3BF,eAiCE,QAAC,KAAD;AACE,kBAAA,QAAQ,EAAEb,QADZ;AAEE,kBAAA,KAAK,EAAEc,KAAK,CAACF,WAFf;AAGE,kBAAA,IAAI,EAAC,aAHP;AAIE,kBAAA,WAAW,EAAC;AAJd;AAAA;AAAA;AAAA;AAAA,0BAjCF,eAuCE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,QAAQ,EAAE,CAACI,MAFb;AAGE,kBAAA,OAAO,EAAEI,YAHX;AAIE,kBAAA,SAAS,EAAC;AAJZ,qDAKO,QALP;AAAA;AAAA;AAAA;AAAA,0BAvCF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAsDE;AAAK,YAAA,SAAS,EAAC,UAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,4CAAf;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,yBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAG,gBAAA,SAAS,EAAC,kCAAb;AAAA,0BACGrC,YAAY,GAAGwC;AADlB;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAK,cAAA,SAAS,EAAC,uBAAf;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAG,gBAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,eAaE;AAAK,cAAA,SAAS,EAAC,0DAAf;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAG,gBAAA,SAAS,EAAC,qCAAb;AAAA,0BACGxC,YAAY,IAAIwC,KAAK,GAAGzB,iBAAiB,EAA7B;AADf;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAbF,eAmBE;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,QAAQ,EAAE,CAACkB,MAFb;AAGE,cAAA,OAAO,EAAEI,YAHX;AAIE,cAAA,SAAS,EAAC;AAJZ,iDAKO,QALP;AAAA;AAAA;AAAA;AAAA,sBAnBF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtDF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cANF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AA6ID,CA3ND;;GAAMhB,Q;UAYWb,S,EACEC,W;;;MAbbY,Q;AA6NN,eAAeT,mBAAf","sourcesContent":["import { useState } from 'react'\r\nimport Head from 'next/head'\r\nimport { SiteContext, ContextProviderComponent } from \"../context/mainContext\"\r\nimport DENOMINATION from \"../utils/currencyProvider\"\r\nimport { FaLongArrowAltLeft } from \"react-icons/fa\"\r\nimport Link from \"next/link\"\r\nimport Image from \"../components/Image\"\r\nimport { v4 as uuid } from \"uuid\"\r\n\r\nimport {\r\n  CardElement,\r\n  Elements,\r\n  useStripe,\r\n  useElements,\r\n} from \"@stripe/react-stripe-js\"\r\nimport { loadStripe } from \"@stripe/stripe-js\"\r\n\r\n// Make sure to call `loadStripe` outside of a componentâ€™s render to avoid\r\n// recreating the `Stripe` object on every render.\r\nconst stripePromise = loadStripe(\"xxx-xxx-xxx\")\r\n\r\nfunction CheckoutWithContext(props) {\r\n  return (\r\n    <ContextProviderComponent>\r\n      <SiteContext.Consumer>\r\n        {context => (\r\n          <Elements stripe={stripePromise}>\r\n            <Checkout {...props} context={context} />\r\n          </Elements>\r\n        )}\r\n      </SiteContext.Consumer>\r\n    </ContextProviderComponent>\r\n  )\r\n}\r\n\r\nconst calculateShipping = () => {\r\n  return 0\r\n}\r\n\r\nconst Input = ({ onChange, value, name, placeholder }) => (\r\n  <input\r\n    onChange={onChange}\r\n    value={value}\r\n    className=\"mt-2 text-sm shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n    type=\"text\"\r\n    placeholder={placeholder}\r\n    name={name}\r\n  />\r\n)\r\n\r\nconst Checkout = ({ context }) => {\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [orderCompleted, setOrderCompleted] = useState(false)\r\n  const [input, setInput] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    street: \"\",\r\n    city: \"\",\r\n    postal_code: \"\",\r\n    state: \"\",\r\n  })\r\n\r\n  const stripe = useStripe()\r\n  const elements = useElements()\r\n\r\n  const onChange = e => {\r\n    setErrorMessage(null)\r\n    setInput({ ...input, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault()\r\n    const { name, email, street, city, postal_code, state } = input\r\n    const { total, clearCart } = context\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not loaded yet. Make sure to disable\r\n      // form submission until Stripe.js has loaded.\r\n      return\r\n    }\r\n\r\n    // Validate input\r\n    if (!street || !city || !postal_code || !state) {\r\n      setErrorMessage(\"Please fill in the form!\")\r\n      return\r\n    }\r\n\r\n    // Get a reference to a mounted CardElement. Elements knows how\r\n    // to find your CardElement because there can only ever be one of\r\n    // each type of element.\r\n    const cardElement = elements.getElement(CardElement)\r\n\r\n    // Use your card Element with other Stripe.js APIs\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: cardElement,\r\n      billing_details: { name: name },\r\n    })\r\n\r\n    if (error) {\r\n      setErrorMessage(error.message)\r\n      return\r\n    }\r\n\r\n    const order = {\r\n      email,\r\n      amount: total,\r\n      address: state, // should this be {street, city, postal_code, state} ?\r\n      payment_method_id: paymentMethod.id,\r\n      receipt_email: \"customer@example.com\",\r\n      id: uuid(),\r\n    }\r\n    // TODO call API\r\n    setOrderCompleted(true)\r\n    clearCart()\r\n  }\r\n\r\n  const { numberOfItemsInCart, cart, total } = context\r\n  const cartEmpty = numberOfItemsInCart === Number(0)\r\n\r\n  if (orderCompleted) {\r\n    return (\r\n      <div>\r\n        <h3>Thanks! Your order has been successfully processed.</h3>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center pb-10\">\r\n      <Head>\r\n        <title>Jamstack ECommerce - Checkout</title>\r\n        <meta name=\"description\" content={`Check out`} />\r\n        <meta property=\"og:title\" content=\"Jamstack ECommerce - Checkpit\" key=\"title\" />\r\n      </Head>\r\n      <div\r\n        className=\"\r\n            flex flex-col w-full\r\n            c_large:w-c_large\r\n          \"\r\n      >\r\n        <div className=\"pt-10 pb-8\">\r\n          <h1 className=\"text-5xl font-light mb-6\">Checkout</h1>\r\n          <Link href=\"/cart\">\r\n            <a aria-label=\"Cart\">\r\n              <div className=\"cursor-pointer flex  items-center\">\r\n                <FaLongArrowAltLeft className=\"mr-2 text-gray-600\" />\r\n                <p className=\"text-gray-600 text-sm\">Edit Cart</p>\r\n              </div>\r\n            </a>\r\n          </Link>\r\n        </div>\r\n\r\n        {cartEmpty ? (\r\n          <h3>No items in cart.</h3>\r\n        ) : (\r\n          <div className=\"flex flex-col\">\r\n            <div className=\"\">\r\n              {cart.map((item, index) => {\r\n                return (\r\n                  <div className=\"border-b py-10\" key={index}>\r\n                    <div className=\"flex items-center\">\r\n                      <Image\r\n                        className=\"w-32 m-0\"\r\n                        src={item.image}\r\n                        alt={item.name}\r\n                      />\r\n                      <p className=\"m-0 pl-10 text-gray-600\">\r\n                        {item.name}\r\n                      </p>\r\n                      <div className=\"flex flex-1 justify-end\">\r\n                        <p className=\"m-0 pl-10 text-gray-900 font-semibold\">\r\n                          {DENOMINATION + item.price}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n            <div className=\"flex flex-1 flex-col md:flex-row\">\r\n              <div className=\"flex flex-1 pt-8 flex-col\">\r\n                <div className=\"mt-4 border-t pt-10\">\r\n                  <form onSubmit={handleSubmit}>\r\n                    {errorMessage ? <span>{errorMessage}</span> : \"\"}\r\n                    <Input\r\n                      onChange={onChange}\r\n                      value={input.name}\r\n                      name=\"name\"\r\n                      placeholder=\"Cardholder name\"\r\n                    />\r\n                    <CardElement className=\"mt-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" />\r\n                    <Input\r\n                      onChange={onChange}\r\n                      value={input.email}\r\n                      name=\"email\"\r\n                      placeholder=\"Email\"\r\n                    />\r\n                    <Input\r\n                      onChange={onChange}\r\n                      value={input.street}\r\n                      name=\"street\"\r\n                      placeholder=\"Street\"\r\n                    />\r\n                    <Input\r\n                      onChange={onChange}\r\n                      value={input.city}\r\n                      name=\"city\"\r\n                      placeholder=\"City\"\r\n                    />\r\n                    <Input\r\n                      onChange={onChange}\r\n                      value={input.state}\r\n                      name=\"state\"\r\n                      placeholder=\"State\"\r\n                    />\r\n                    <Input\r\n                      onChange={onChange}\r\n                      value={input.postal_code}\r\n                      name=\"postal_code\"\r\n                      placeholder=\"Postal Code\"\r\n                    />\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={!stripe}\r\n                      onClick={handleSubmit}\r\n                      className=\"hidden md:block bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline\"\r\n                      type=\"button\"\r\n                    >\r\n                      Confirm order\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n              <div className=\"md:pt-20\">\r\n                <div className=\"pl-4 flex flex-1 pt-2 md:pt-8 mt-2 sm:mt-0\">\r\n                  <p className=\"text-sm pr-10 text-left\">Subtotal</p>\r\n                  <p className=\"w-38 flex text-right justify-end\">\r\n                    {DENOMINATION + total}\r\n                  </p>\r\n                </div>\r\n                <div className=\"pl-4 flex flex-1 my-2\">\r\n                  <p className=\"text-sm pr-10\">Shipping</p>\r\n                  <p className=\"w-38 flex justify-end\">\r\n                    FREE SHIPPING\r\n                  </p>\r\n                </div>\r\n                <div className=\"md:ml-4 pl-2 flex flex-1 bg-gray-200 pr-4 pb-1 pt-2 mt-2\">\r\n                  <p className=\"text-sm pr-10\">Total</p>\r\n                  <p className=\"font-semibold w-38 flex justify-end\">\r\n                    {DENOMINATION + (total + calculateShipping())}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={!stripe}\r\n                  onClick={handleSubmit}\r\n                  className=\"md:hidden bg-primary hover:bg-black text-white font-bold py-2 px-4 mt-4 rounded focus:outline-none focus:shadow-outline\"\r\n                  type=\"button\"\r\n                >\r\n                  Confirm order\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckoutWithContext"]},"metadata":{},"sourceType":"module"}